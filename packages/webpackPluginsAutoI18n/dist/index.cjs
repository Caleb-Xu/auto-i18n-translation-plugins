"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("auto-i18n-plugin-core"),n=require("node:path");function t(e,n,t,o){return new(t||(t=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function u(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,u)}c((o=o.apply(e,n||[])).next())}))}function o(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(t=1,o&&(r=2&u[0]?o.return:u[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,u[1])).done)return r;switch(o=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,o=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){a.label=u[1];break}if(6===u[0]&&a.label<r[1]){a.label=r[1],r=u;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(u);break}r[2]&&a.ops.pop(),a.trys.pop();continue}u=n.call(e,a)}catch(e){u=[6,e],o=0}finally{t=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}"function"==typeof SuppressedError&&SuppressedError;var r=[".vue",".tsx",".jsx",".js",".ts"],i=function(){function i(n){if(e.initOption(n),e.checkOption()){e.fileUtils.initLangFile();var t=e.fileUtils.getLangObjByJSONFileWithLangKey(e.option.originLang);e.translateUtils.languageConfigCompletion(t),e.translateUtils.initLangObj(t),e.FunctionFactoryOption.originLang=e.option.originLang}}return i.prototype.apply=function(i){var u=this;i.hooks.emit.tap("webpackPluginsAutoI18n",(function(){var e;(null===(e=i.options.module)||void 0===e?void 0:e.rules)&&!i.options.module.rules.some((function(e){return e.use&&Array.isArray(e.use)&&e.use.some((function(e){var n=e.loader;return n&&n.includes("customLoader/index.cjs")}))}))&&i.options.module.rules.push({test:a(r),enforce:"post",use:[{loader:n.resolve(__dirname,"./customLoader/index.cjs")}]})})),i.hooks.emit.tapPromise("webpackPluginsAutoI18n",(function(n){return t(u,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return console.info("构建阶段批量翻译"),[4,e.translateUtils.autoTranslate()];case 1:return n.sent(),console.info("翻译完成✔"),[2]}}))}))}))},i}();function a(n){var t="(".concat(n.map((function(e){return e.replace(".","\\.")})).join("|"),")$");function o(e){return e instanceof RegExp?e.source:e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var r=e.option.includePath,i=e.option.excludedPath,a=r.length?"(?=.*(".concat(r.map(o).join("|"),"))"):"",u=i.length?"^(?!.*(".concat(i.map(o).join("|"),"))"):"",c="".concat(u).concat(a,".*").concat(t);return new RegExp(c,"i")}exports.default=i,Object.keys(e).forEach((function(n){"default"===n||Object.prototype.hasOwnProperty.call(exports,n)||Object.defineProperty(exports,n,{enumerable:!0,get:function(){return e[n]}})}));
//# sourceMappingURL=index.cjs.map
